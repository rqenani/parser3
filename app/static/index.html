<!DOCTYPE html>
<html lang="sq">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Analizator Profesional i ListÃ«pagesave</title>
  <style>
    :root { --primary-color: #0d6efd; --success-color: #198754; --danger-color: #dc3545; --light-gray: #f8f9fa; --border-color: #dee2e6; --text-color: #212529; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: #f0f2f5; color: var(--text-color); line-height: 1.6; margin: 0; padding: 20px; }
    .container { max-width: 1400px; margin: 0 auto; background-color: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    h1, h2, h3 { text-align: center; color: var(--primary-color); }

    /* Tabs */
    .tab-container { border: 1px solid var(--border-color); border-radius: 8px; overflow: hidden; margin-bottom: 40px; }
    .tab-buttons { display: flex; background-color: var(--light-gray); }
    .tab-button { flex-grow: 1; padding: 15px; font-size: 18px; font-weight: bold; background-color: var(--light-gray); border: none; border-bottom: 3px solid transparent; cursor: pointer; transition: all 0.2s; }
    .tab-button:hover { background-color: #e2e6ea; }
    .tab-button.active { color: var(--primary-color); border-bottom: 3px solid var(--primary-color); background-color: #fff; }
    .tab-content { display: none; padding: 20px; animation: fadeIn 0.5s; }
    .tab-content.active { display: block; }

    textarea { width: 100%; height: 150px; padding: 10px; border: 1px solid #ccc; border-radius: 6px; font-size: 14px; margin-bottom: 15px; box-sizing: border-box; }
    .button-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin-bottom: 15px; }
    button { padding: 12px; font-size: 16px; font-weight: bold; color: #fff; background-color: var(--primary-color); border: none; border-radius: 6px; cursor: pointer; transition: background-color 0.2s; }
    .export-btn { background-color: var(--success-color); }

    .section-title { margin-top: 25px; text-align: left; border-bottom: 1px solid var(--border-color); padding-bottom: 5px; color: var(--primary-color); }
    .table-wrapper { overflow-x: auto; }
    table { width: 100%; border-collapse: collapse; margin-top: 15px; }
    th, td { border: 1px solid var(--border-color); padding: 8px; text-align: right; white-space: nowrap; font-size: 14px; }
    th, td:first-child, td:nth-child(2) { text-align: left; }
    th { background-color: var(--light-gray); font-weight: 600; }
    tfoot { font-weight: bold; background-color: #e9ecef; }

    /* Carousel */
    .carousel-section { background-color: var(--light-gray); padding: 30px; margin-top: 40px; border-radius: 8px; }
    .carousel-container { position: relative; background-color: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); padding: 20px; min-height: 200px; display: flex; align-items: center; justify-content: center; }
    #carousel-placeholder { color: #999; font-style: italic; }
    .carousel-slide { display: none; width: 100%; animation: fadeIn 0.5s; }
    @keyframes fadeIn { from { opacity: 0.4; } to { opacity: 1; } }
    .carousel-slide.active { display: block; }
    .carousel-nav { position: absolute; top: 50%; width: 100%; left:0; display: flex; justify-content: space-between; transform: translateY(-50%); pointer-events: none; padding: 0 10px; box-sizing: border-box;}
    .carousel-button { pointer-events: all; background-color: rgba(0,0,0,0.5); color: white; border: none; border-radius: 50%; width: 40px; height: 40px; font-size: 20px; cursor: pointer; transition: background-color 0.2s; }
    .carousel-button:hover { background-color: rgba(0,0,0,0.8); }
    .carousel-controls { display: flex; justify-content: space-between; align-items: center; margin-top: 15px; }
    .carousel-dots { text-align: center; }
    .dot { display: inline-block; width: 12px; height: 12px; margin: 0 5px; background-color: #ccc; border-radius: 50%; cursor: pointer; }
    .dot.active { background-color: var(--primary-color); }
    #clear-carousel-btn { background-color: var(--danger-color); }

    /* Footer */
    .site-footer { margin-top: 40px; padding: 30px; background-color: #2c3e50; color: #ecf0f1; border-radius: 8px; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
    .footer-column h3 { color: #fff; text-align: left; border-bottom: 2px solid var(--primary-color); padding-bottom: 10px; margin-bottom: 15px; }
    .footer-column p, .footer-column li { font-size: 15px; color: #bdc3c7; text-align: left; }
    .footer-column ol { padding-left: 20px; }
    .footer-column ol li { margin-bottom: 10px; }
    .contact-button { display: inline-block; margin-top: 15px; padding: 12px 25px; background-color: var(--primary-color); color: #fff; text-decoration: none; border-radius: 5px; font-weight: bold; transition: all 0.3s; text-align: center; }
    .contact-button:hover { background-color: #fff; color: var(--primary-color); transform: translateY(-2px); }
    .share-button { display:inline-block; margin-top:15px; padding:12px 25px; background-color:#25D366; color:#fff; border-radius:5px; font-weight:bold; cursor:pointer; text-decoration:none; transition:all 0.3s; }
    .share-button:hover { background-color:#1ebe5d; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Analizator Profesional i ListÃ«pagesave</h1>

    <!-- Tabs -->
    <div class="tab-container">
      <div class="tab-buttons">
        <button class="tab-button active" onclick="openTab(event, 'tab-pf')">Analizator Person Fizik</button>
        <button class="tab-button" onclick="openTab(event, 'tab-shpk')">Analizator SHPK / SHA</button>
      </div>
      <div id="tab-pf" class="tab-content active">
        <h3>PÃ«rpunues pÃ«r Biznes Individual</h3>
        <textarea id="inputTextPF" placeholder="Ngjisni tekstin e listÃ«pagesÃ«s pÃ«r Person Fizik kÃ«tu..."></textarea>
        <div class="button-container">
          <button onclick="perunoTekstin('PF')">1. PÃ«rpuno Tekstin</button>
        </div>
        <div id="zgjedhjaDivPF"></div>
        <div class="button-container" id="postAnalysisButtonsPF" style="display:none;">
          <button onclick="gjeneroAnalizen('PF')">2. Gjenero AnalizÃ«n & Shto te Karuseli</button>
          <button class="export-btn" onclick="exportToExcel('bank', 'PF')">Eksporto pÃ«r BankÃ«</button>
          <button class="export-btn" onclick="exportToExcel('full', 'PF')">Eksporto AnalizÃ«n e PlotÃ«</button>
        </div>
      </div>
      <div id="tab-shpk" class="tab-content">
        <h3>PÃ«rpunues pÃ«r SHPK / SHA</h3>
        <textarea id="inputTextSHPK" placeholder="Ngjisni tekstin e listÃ«pagesÃ«s pÃ«r SHPK/SHA kÃ«tu..."></textarea>
        <div class="button-container">
          <button onclick="perunoTekstin('SHPK')">1. PÃ«rpuno Tekstin</button>
        </div>
        <div id="zgjedhjaDivSHPK"></div>
        <div class="button-container" id="postAnalysisButtonsSHPK" style="display:none;">
          <button onclick="gjeneroAnalizen('SHPK')">2. Gjenero AnalizÃ«n & Shto te Karuseli</button>
          <button class="export-btn" onclick="exportToExcel('bank', 'SHPK')">Eksporto pÃ«r BankÃ«</button>
          <button class="export-btn" onclick="exportToExcel('full', 'SHPK')">Eksporto AnalizÃ«n e PlotÃ«</button>
        </div>
      </div>
    </div>

    <!-- Carousel -->
    <div class="carousel-section">
      <h2>Rezultatet e Analizave Tuaja</h2>
      <div class="carousel-container" id="carousel-container">
        <div id="carousel-wrapper">
          <p id="carousel-placeholder">Analizat tuaja do tÃ« shfaqen kÃ«tu pasi tÃ« pÃ«rpunoni njÃ« listÃ«pagesÃ«...</p>
        </div>
        <div class="carousel-nav" id="carousel-nav" style="display: none;">
          <button class="carousel-button" onclick="changeSlide(-1)">&#10094;</button>
          <button class="carousel-button" onclick="changeSlide(1)">&#10095;</button>
        </div>
      </div>
      <div class="carousel-controls" id="carousel-controls" style="display: none;">
        <button id="clear-carousel-btn" onclick="clearCarousel()">Pastro Analizat</button>
        <div class="carousel-dots" id="carousel-dots"></div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-column">
      <h3>Rreth Mjetit</h3>
      <p>Ky mjet u krijua pÃ«r tÃ« thjeshtuar dhe automatizuar procesin e analizÃ«s sÃ« listÃ«pagesave shqiptare, duke kursyer kohÃ« dhe duke minimizuar gabimet njerÃ«zore.</p>
      <ul>
        <li><strong>PÃ«r Ã§farÃ« shÃ«rben?</strong> PÃ«rpunon automatikisht tÃ« dhÃ«nat, gjeneron regjistrimet kontabÃ«l dhe nxjerr detajet e pagave neto.</li>
        <li><strong>PÃ«r kÃ« Ã«shtÃ«?</strong> PÃ«r kontabilistÃ«, financierÃ«, menaxherÃ« biznesi dhe studentÃ« tÃ« ekonomisÃ« nÃ« ShqipÃ«ri.</li>
      </ul>
    </div>
    <div class="footer-column">
      <h3>Si PÃ«rdoret?</h3>
      <ol>
        <li>Zgjidhni tipin e biznesit tuaj lart (Person Fizik ose SHPK).</li>
        <li>Kopjoni tÃ« gjithÃ« tekstin nga dokumenti PDF i listÃ«pagesÃ«s dhe ngjisheni nÃ« kutinÃ« e tekstit.</li>
        <li>Klikoni "PÃ«rpuno Tekstin", bÃ«ni zgjedhjen e kÃ«rkuar (pÃ«r pronarin/administratorin).</li>
        <li>Klikoni "Gjenero AnalizÃ«n" pÃ«r tÃ« parÃ« rezultatin e plotÃ« nÃ« karusel.</li>
      </ol>
    </div>
    <div class="footer-column">
      <h3>Autor & Kontakt</h3>
      <p>Zhvilluar nga <strong>Rubin Qenani</strong> (Auditues Ligjor & Ekspert KontabÃ«l).</p>
      <a href="https://rubinqenanibussinescard.netlify.app/" class="contact-button" target="_blank" rel="noopener noreferrer">Vizitoni KartÃ«n Time tÃ« Biznesit</a>

      <div class="social-share">
        <p>ShpÃ«rndaje kÃ«tÃ« mjet:</p>
        <button class="share-button" onclick="sharePage()">ðŸ“¤ Share</button>
      </div>
    </div>
  </footer>

  <script>
    function sharePage() {
      if (navigator.share) {
        navigator.share({
          title: 'Analizator Profesional i ListÃ«pagesave',
          text: 'Shiko kÃ«tÃ« mjet pÃ«r analizÃ«n e listÃ«pagesave nÃ« ShqipÃ«ri!',
          url: window.location.href
        }).catch(err => console.log('Share i anuluar:', err));
      } else {
        navigator.clipboard.writeText(window.location.href);
        alert("Linku u kopjua! Ngjise nÃ« WhatsApp ose rrjetet sociale.");
      }
    }
  </script>

  <!-- SCRIPTET E PARSING / FUNKSIONALITETEVE (nga backend ose js index) -->
  <script src="/static/app.js"></script>
</body>
</html>
